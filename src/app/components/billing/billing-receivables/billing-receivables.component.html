<div class="p-grid">
  <div class="p-col-12">
    <p-toast></p-toast>
    <div class="card">
      <p-toolbar>
        <div class="p-toolbar-group-left">
          <span>
            <h5>Outstanding Receivables</h5>
          </span>
        </div>
        <div class="p-toolbar-group-right">
          <span>
            <p-button label="Export All to Excel" icon="pi pi-file-excel" styleClass="p-button-success p-mr-2 p-ml-2" (onClick)="exportToExcel(0)"></p-button>
          </span>          
        </div>
      </p-toolbar>
    </div>
    <div class="card">
      <p-toolbar>
        <div class="p-toolbar-group-left">
          <span *ngIf="!showUptoThirtyDays">
            <p-button icon="pi pi-plus" (click)="showUptoThirtyDaysTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span *ngIf="showUptoThirtyDays">
            <p-button icon="pi pi-minus" (click)="showUptoThirtyDaysTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span>
            <h5>30 days or less</h5>
          </span>
        </div>
        <div class="p-toolbar-group-right">
          <span>
            <p-button label="Export to Excel" [disabled]="memberCountUptoThrity==0" icon="pi pi-file-excel" styleClass="p-button-success p-mr-2 p-ml-2" (onClick)="exportToExcel(1)"></p-button>
          </span>
          <span>
            <p-button label="Members" icon="pi pi-users" badge="{{memberCountUptoThrity}}" styleClass="p-button-info p-mr-2 p-ml-2"></p-button>
          </span>
          <span>
            <p-button label="Receivables" icon="pi pi-dollar" styleClass="p-button-warning" badge="{{balanceUptoThirty | currency}}"
              badgeClass="p-badge-danger"></p-button>
          </span>
        </div>
      </p-toolbar>
      <div *ngIf="showUptoThirtyDays">
        <BR />
        <p-table #dtThirty [value]="uptoThirtyDaysList" [columns]="cols" [rows]="5" [paginator]="true" resizableColumns="true"
          [showCurrentPageReport]="true" styleClass="p-datatable-sm"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} record(s)" [globalFilterFields]="['billableMemberName','description']">
          <ng-template pTemplate="caption">
            <div style="text-align: right">
                <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                <input type="text" pInputText size="50" placeholder="Search .." (input)="dtThirty.filterGlobal($event.target.value, 'contains')"
                 style="width:auto">
            </div>
        </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="memberName" class="ui-resizable-column" pResizableColumn width="15%">  
                Member/{{currentUser.accountName}} Name
                 <p-columnFilter class="table-header-left" type="text" field="memberName" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="billableMemberName" class="ui-resizable-column" pResizableColumn width="15%">  
               Billable Member
                <p-columnFilter class="table-header-left" type="text" field="billableMemberName" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="createDate" class="ui-resizable-column" pResizableColumn width="10%">    
                Date
                <p-columnFilter class="table-header-left" type="text" field="createDate" display="menu"></p-columnFilter>    
              </th>
              <th pSortableColumn="dueDate" class="ui-resizable-column" pResizableColumn width="10%">  
                Due Date
                <p-columnFilter class="table-header-left" type="text" field="dueDate" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="description" class="ui-resizable-column" pResizableColumn width="20%"> 
                Description
                <p-columnFilter class="table-header-left" type="text" field="description" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="totalDue" class="ui-resizable-column" pResizableColumn width="10%">   
                 Due
                 <p-columnFilter class="table-header-left" type="text" field="totalDue" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="paid" class="ui-resizable-column" pResizableColumn width="10%">     
                Paid
                <p-columnFilter class="table-header-left" type="text" field="paid" display="menu"></p-columnFilter>   
              </th>
              <th pSortableColumn="balance" class="ui-resizable-column" pResizableColumn width="10%">      
                Balance
                <p-columnFilter class="table-header-left" type="text" field="balance" display="menu"></p-columnFilter>   
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr class="maxTableRow">
              <td>
                {{ item.memberName }}
              </td>
              <td>
                {{ item.billableMemberName }}
              </td>
              <td>
                {{ item.createdDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.dueDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.description }}
              </td>
              <td>
                {{ item.totalDue | currency}}
              </td>
              <td>
                {{ item.paid | currency}}
              </td>
              <td>
                {{ item.balance | currency}}
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <div class="card">
      <p-toolbar>
        <div class="p-toolbar-group-left">
          <span *ngIf="!showThirtyToSixtyDays">
            <p-button icon="pi pi-plus" (click)="showThirtyToSixtyDaysTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span *ngIf="showThirtyToSixtyDays">
            <p-button icon="pi pi-minus" (click)="showThirtyToSixtyDaysTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span>
            <h5>31 - 60 days</h5>
          </span>
        </div>
        <div class="p-toolbar-group-right">
          <span>
            <p-button label="Export to Excel" icon="pi pi-file-excel" [disabled]="memberCountThirtytoSixity==0" styleClass="p-button-success p-mr-2 p-ml-2" (onClick)="exportToExcel(2)" ></p-button>
          </span>
          <span>
            <p-button label="Members" icon="pi pi-users" badge="{{memberCountThirtytoSixity}}" styleClass="p-button-info p-mr-2 p-ml-2"></p-button>
          </span>
          <span>
            <p-button label="Receivables" icon="pi pi-dollar" styleClass="p-button-warning" badge="{{balanceThirtytoSixity | currency}}"
              badgeClass="p-badge-danger"></p-button>
          </span>
        </div>
      </p-toolbar>
      <div *ngIf="showThirtyToSixtyDays">
        <BR />
        <p-table #dtThirtySixty [value]="thirtyToSixtyDaysList" [columns]="cols" [rows]="5" [paginator]="true" resizableColumns="true"
          [showCurrentPageReport]="true" styleClass="p-datatable-sm"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} record(s)" [globalFilterFields]="['billableMemberName','description']">
          <ng-template pTemplate="caption">
            <div style="text-align: right">
                <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                <input type="text" pInputText size="50" placeholder="Search .." (input)="dtThirtySixty.filterGlobal($event.target.value, 'contains')"
                 style="width:auto">
            </div>
        </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="memberName" class="ui-resizable-column" pResizableColumn width="15%">  
                Member/{{currentUser.accountName}} Name
                 <p-columnFilter class="table-header-left" type="text" field="memberName" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="billableMemberName" class="ui-resizable-column" pResizableColumn width="20%">    
                Billable Member
                <p-columnFilter class="table-header-left" type="text" field="billableMemberName" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="createDate" class="ui-resizable-column" pResizableColumn width="10%">   
                Date
                <p-columnFilter class="table-header-left" type="text" field="createDate" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="dueDate" class="ui-resizable-column" pResizableColumn width="10%">    
                Due Date
                <p-columnFilter class="table-header-left" type="text" field="dueDate" display="menu"></p-columnFilter>    
              </th>
              <th pSortableColumn="description" class="ui-resizable-column" pResizableColumn width="25%">      
                Description
                <p-columnFilter class="table-header-left" type="text" field="description" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="totalDue" class="ui-resizable-column" pResizableColumn width="10%">     
                 Due
                 <p-columnFilter class="table-header-left" type="text" field="totalDue" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="paid" class="ui-resizable-column" pResizableColumn width="10%">    
                Paid
                <p-columnFilter class="table-header-left" type="text" field="paid" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="balance" class="ui-resizable-column" pResizableColumn width="10%">      
                Balance
                <p-columnFilter class="table-header-left" type="text" field="balance" display="menu"></p-columnFilter>   
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr class="maxTableRow">
              <td>
                {{ item.memberName }}
              </td>
              <td>
                {{ item.billableMemberName }}
              </td>
              <td>
                {{ item.createdDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.dueDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.description }}
              </td>
              <td>
                {{ item.totalDue | currency}}
              </td>
              <td>
                {{ item.paid | currency}}
              </td>
              <td>
                {{ item.balance | currency}}
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <div class="card">
      <p-toolbar>
        <div class="p-toolbar-group-left">
          <span *ngIf="!showSixtyToNinetyDays">
            <p-button icon="pi pi-plus" (click)="showSixtyToNinetyDaysTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span *ngIf="showSixtyToNinetyDays">
            <p-button icon="pi pi-minus" (click)="showSixtyToNinetyDaysTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span>
            <h5>61 - 90 days</h5>
          </span>
        </div>
        <div class="p-toolbar-group-right">
          <span>
            <p-button label="Export to Excel" icon="pi pi-file-excel" [disabled]="memberCountSixtytoNinty==0" styleClass="p-button-success p-mr-2 p-ml-2" (onClick)="exportToExcel(3)"></p-button>
          </span>
          <span>
            <p-button label="Members" icon="pi pi-users" badge="{{memberCountSixtytoNinty}}" styleClass="p-button-info p-mr-2 p-ml-2"></p-button>
          </span>
          <span>
            <p-button label="Receivables" icon="pi pi-dollar" styleClass="p-button-warning" badge="{{balanceSixtytoNinty | currency}}"
              badgeClass="p-badge-danger"></p-button>
          </span>
        </div>
      </p-toolbar>
      <div *ngIf="showSixtyToNinetyDays">
        <BR />
        <p-table #dtSixtyNinty [value]="sixtyToNinetyDaysList" [columns]="cols" [rows]="5" [paginator]="true" resizableColumns="true"
          [showCurrentPageReport]="true" styleClass="p-datatable-sm"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} record(s)" [globalFilterFields]="['billableMemberName','description']">
          <ng-template pTemplate="caption">
            <div style="text-align: right">
                <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                <input type="text" pInputText size="50" placeholder="Search .." (input)="dtSixtyNinty.filterGlobal($event.target.value, 'contains')"
                 style="width:auto">
            </div>
        </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="memberName" class="ui-resizable-column" pResizableColumn width="15%">  
                Member/{{currentUser.accountName}} Name
                 <p-columnFilter class="table-header-left" type="text" field="memberName" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="billableMemberName" class="ui-resizable-column" pResizableColumn width="20%">      
                Billable Member
                <p-columnFilter class="table-header-left" type="text" field="billableMemberName" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="createDate" class="ui-resizable-column" pResizableColumn width="10%" >      
                Date
                <p-columnFilter class="table-header-left" type="text" field="createDate" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="dueDate" class="ui-resizable-column" pResizableColumn width="10%" >    
                Due Date
                <p-columnFilter class="table-header-left" type="text" field="dueDate" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="description" class="ui-resizable-column" pResizableColumn width="25%" >    
                Description
                <p-columnFilter class="table-header-left" type="text" field="description" display="menu"></p-columnFilter>   
              </th>
              <th pSortableColumn="totalDue" class="ui-resizable-column" pResizableColumn  width="10%">    
                 Due
                 <p-columnFilter class="table-header-left" type="text" field="totalDue" display="menu"></p-columnFilter>   
              </th>
              <th pSortableColumn="paid" class="ui-resizable-column" pResizableColumn width="10%">     
                Paid
                <p-columnFilter class="table-header-left" type="text" field="paid" display="menu"></p-columnFilter>   
              </th>
              <th pSortableColumn="balance" class="ui-resizable-column" pResizableColumn width="10%">   
                Balance
                <p-columnFilter class="table-header-left" type="text" field="balance" display="menu"></p-columnFilter>   
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr class="maxTableRow">
              <td>
                {{ item.memberName }}
              </td>
              <td>
                {{ item.billableMemberName }}
              </td>
              <td>
                {{ item.createdDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.dueDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.description }}
              </td>
              <td>
                {{ item.totalDue | currency}}
              </td>
              <td>
                {{ item.paid | currency}}
              </td>
              <td>
                {{ item.balance | currency}}
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <div class="card">
      <p-toolbar>
        <div class="p-toolbar-group-left">
          <span *ngIf="!showNinetyDaysOrMore">
            <p-button icon="pi pi-plus" (click)="showNinetyDaysOrMoreTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span *ngIf="showNinetyDaysOrMore">
            <p-button icon="pi pi-minus" (click)="showNinetyDaysOrMoreTabClicked()" styleClass="p-mr-5"></p-button>
          </span>
          <span>
            <h5>90 days +</h5>
          </span>
        </div>
        <div class="p-toolbar-group-right">
          <span>
            <p-button label="Export to Excel" icon="pi pi-file-excel" [disabled]="memberCountNintyOrMore==0" styleClass="p-button-success p-mr-2 p-ml-2" (onClick)="exportToExcel(4)"></p-button>
          </span>
          <span>
            <p-button label="Members" icon="pi pi-users" badge="{{memberCountNintyOrMore}}" styleClass="p-button-info p-mr-2 p-ml-2"></p-button>
          </span>
          <span>
            <p-button label="Receivables" icon="pi pi-dollar" styleClass="p-button-warning" badge="{{balanceNintyOrMore | currency}}"
              badgeClass="p-badge-danger"></p-button>
          </span>
        </div>
      </p-toolbar>
      <div *ngIf="showNinetyDaysOrMore">
        <BR />
        <p-table #dtNintyMore [value]="ninetyDaysOrMoreList" [columns]="cols" [rows]="5" [paginator]="true" resizableColumns="true"
          [showCurrentPageReport]="true" styleClass="p-datatable-sm"
          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} record(s)" [globalFilterFields]="['billableMemberName','description']">
          <ng-template pTemplate="caption">
            <div style="text-align: right">
                <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                <input type="text" pInputText size="50" placeholder="Search .." (input)="dtNintyMore.filterGlobal($event.target.value, 'contains')"
                 style="width:auto">
            </div>
        </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="memberName" class="ui-resizable-column" pResizableColumn width="15%">  
                Member/{{currentUser.accountName}} Name
                 <p-columnFilter class="table-header-left" type="text" field="memberName" display="menu"></p-columnFilter> 
              </th>
              <th pSortableColumn="billableMemberName" class="ui-resizable-column" pResizableColumn width="20%" >        
                Billable Member
                <p-columnFilter class="table-header-left" type="text" field="billableMemberName" display="menu"></p-columnFilter>   
              </th>
              <th pSortableColumn="createdate" class="ui-resizable-column" pResizableColumn width="10%" >   
                Date
                <p-columnFilter class="table-header-left" type="text" field="createdate" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="dueDate" class="ui-resizable-column" pResizableColumn width="10%" >
                Due Date
                <p-columnFilter class="table-header-left" type="text" field="dueDate" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="description" class="ui-resizable-column" pResizableColumn width="25%" >   
                Description
                <p-columnFilter class="table-header-left" type="text" field="description" display="menu"></p-columnFilter>   
              </th>
              <th pSortableColumn="totalDue" class="ui-resizable-column" pResizableColumn width="10%">   
                 Due
                 <p-columnFilter class="table-header-left" type="text" field="totalDue" display="menu"></p-columnFilter>  
              </th>
              <th pSortableColumn="paid" class="ui-resizable-column" pResizableColumn width="10%">    
                Paid
                <p-columnFilter class="table-header-left" type="text" field="paid" display="menu"></p-columnFilter>   
              </th>
              <th pSortableColumn="balance" class="ui-resizable-column" pResizableColumn width="10%">    
                Balance
                <p-columnFilter class="table-header-left" type="text" field="balance" display="menu"></p-columnFilter>   
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr class="maxTableRow">
              <td>
                {{ item.memberName }}
              </td>
              <td>
                {{ item.billableMemberName }}
              </td>
              <td>
                {{ item.createdDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.dueDate | date:"MM/dd/yyyy"}}
              </td>
              <td>
                {{ item.description }}
              </td>
              <td>
                {{ item.totalDue | currency}}
              </td>
              <td >
                {{ item.paid | currency}}
              </td>
              <td>
                {{ item.balance | currency}}
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>   
  </div>
</div>
